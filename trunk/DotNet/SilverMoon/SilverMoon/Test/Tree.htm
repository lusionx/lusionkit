<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>无标题页</title>

    <script type="text/javascript" src="../Js/jquery-1.3.2.min.js"></script>

    <style type="text/css">
        ul.root, ul.root ul, ul.root ul
        {
            list-style-type: none;
            padding-left: 20px;
        }
        ul.root
        {
            padding-left: 0px;
        }
    </style>
</head>
<body>

    <script type="text/javascript">

$(function () {
    var creat = function (objs, dom) {
        for (var i = 0; i < objs.length; i++) {
            var nd = $('<li class="node"/>').html(objs[i].Html)
            var pa = $('<li class="parent"/>')
            var ul = $('<ul/>');
            dom.append(nd, pa.append(ul));
            if (objs[i].Children) {
                creat(objs[i].Children, ul);
            }
        }
    }
    $.get("GetNodes.ashx", {},

    function (obj) {
        var dom = $('<ul class="root"/>');
        creat(obj, dom);
        $('#show').append(dom);
    },
    'json');
});
    </script>

    <div id="show">
    </div>
</body>
</html>
